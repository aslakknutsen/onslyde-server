<html>
<head>
<title>Slide Deck Remote</title>

<style type='text/css'>

</style>
<script src='js/slidfast.js'></script>
<script type="text/javascript">

slidfast({
   touchEnabled: false
});

</script>
</head>
<body>
<input id="option1" class="button" type="submit" value="topic A" />
<input id="option2" class="button" type="submit" value="topic B" />

<script>
/*

we want:

embedded slide viewer
--------------------
- to have the slides mirrored from current presenter slide deck
-- this means state sharing through window.location or similar
- the 2 option buttons need to be dynamic based on slideGroup
-- we must deliver which group we're currently viewing to this page
--- #slidegroup:slidenumber
-- then populate buttons for user to pick from
--- then send vote to server

 */

var option1 = document.querySelector('#option1');
var option2 = document.querySelector('#option2');

//todo make this unique user for session management/voter registration
var ws = slidfast.ws.join('client:anonymous2');

option1.onclick = function(event) {
    ws.send('vote:' + option1.value);
    option1.disabled = true;
    option2.disabled = true;
    return false;
};

option2.onclick = function(event) {
    ws.send('vote:' + option2.value);
    option1.disabled = true;
    option2.disabled = true;
    return false;
};


window.addEventListener('updateOptions', function(e) {
    option1.value = e.option1;
    option2.value = e.option2;
}, false);

</script>
</html>